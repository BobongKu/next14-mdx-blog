:root {
  /* 기본 변수들. */
  --space: 1rem;
  --ease-out: cubic-bezier(0.5, 1, 0.89, 1);
  --ease-in-out: cubic-bezier(0.45, 0, 0.55, 1);

  /* --- [추가] 라이트 모드 변수 --- */
  --light-fg: #000; /* 검은색 텍스트 */
  --light-surface-2: #e5e7eb; /* tailwind gray-200 (테두리) */
  --light-surface-shadow: #f0f0f0; /* ::before 그림자 */
  --light-bg: #ffffff; /* 흰색 배경 */
  --light-footer-text: #6B7280; /* text-gray-500 */
}

.dark {
  /* --- [추가] 다크 모드 변수 정의 --- */
  --bg: #09090b;
  --fg: #e3e3e3;
  --surface-1: #101012;
  --surface-2: #27272a;
  --surface-3: #52525b;
  --dark-footer-text: #9CA3AF; /* text-gray-400 */
}

/* --- [수정] 기본 스타일을 라이트 모드로 변경 --- */
.card {
  position: relative;
  overflow: hidden;
  display: grid;
  grid-template-areas: "card";
  place-items: center;
  min-height: 150px;
  height: 100%;
  border: 1px solid var(--light-surface-2); /* 라이트 모드 테두리 */
  isolation: isolate;
  transition: border-color 200ms var(--ease-out);
  user-select: none;
  border-radius: 0.375rem; /* rounded-md */
  background-color: var(--light-bg); /* 라이트 모드 배경 */
}

/* --- [수정] 다크 모드 스타일을 .dark로 래핑 --- */
.dark .card {
  border-color: var(--surface-2);
  background-color: var(--bg);
}

.card::before {
  content: "";
  position: absolute;
  inset: 0;
  /* 라이트 모드 스타일 */
  background: radial-gradient(
    circle at bottom left,
    transparent 55%,
    var(--light-surface-shadow)
  );
  box-shadow: var(--light-bg) -0.5cqi 0.5cqi 2.5cqi inset;
  pointer-events: none;
  transition: opacity 900ms var(--ease-out);
  z-index: 2;
}

/* 다크 모드 ::before */
.dark .card::before {
  background: radial-gradient(
    circle at bottom left,
    transparent 55%,
    var(--surface-1)
  );
  box-shadow: var(--bg) -0.5cqi 0.5cqi 2.5cqi inset;
}

.card::after {
  content: "";
  position: absolute;
  inset: 0;
  margin: auto;
  aspect-ratio: 1;
  /* 라이트 모드 스타일 */
  background: radial-gradient(circle, var(--light-bg), transparent 65%);
  opacity: 0;
  transition: opacity 800ms var(--ease-out);
  z-index: 2;
}

/* 다크 모드 ::after */
.dark .card::after {
  background: radial-gradient(circle, var(--bg), transparent 65%);
}


.card > * {
  grid-area: card;
}

/* 픽셀 캔버스는 맨 뒤(z-index 1)에 배치 */
.card > pixel-canvas {
  position: relative;
  z-index: 1;
  width: 100%;
  height: 100%;
}

/* SVG 아이콘 대신, PostCard의 콘텐츠(z-index 3)를 배치 */
.card-content {
  position: relative;
  z-index: 3;
  width: 100%;
  height: 100%;
  /* 기존 PostCard의 패딩과 flex 구조를 여기에 적용 */
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding: 0.25rem 1rem 1rem 1rem; /* p-4 pt-1 */
  color: var(--light-fg); /* 라이트 모드 텍스트 */
}

/* 다크 모드 .card-content */
.dark .card-content {
  color: var(--fg);
}

/* 기존 PostCard의 하단 정보 */
.card-footer {
  display: flex;
  justify-content: space-between;
  gap: 0.75rem;
  font-size: 0.875rem; /* text-sm */
  /* color: var(--light-footer-text); */ /* [삭제] title과 동일하게 동작하도록 삭제 */
}

/* 다크 모드 .card-footer */
.dark .card-footer {
  /* color: var(--dark-footer-text); */ /* [삭제] title과 동일하게 동작하도록 삭제 */
}

.card-footer .icon-text {
  display: flex;
  align-items: center;
  gap: 0.25rem;
}


/* 호버 및 포커스 효과 */
.card:focus-within {
  outline: 5px auto Highlight;
  outline: 5px auto -webkit-focus-ring-color;
}

.card:where(:hover, :focus-within) {
  border-color: var(--active-color, var(--light-fg)); /* 라이트 모드 호버 */
  transition: border-color 800ms var(--ease-in-out);
  /* 기존 hover:shadow-xl 효과 */
  box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
}

/* 다크 모드 호버 */
.dark .card:where(:hover, :focus-within) {
  border-color: var(--active-color, var(--fg));
}


/* ▼ [수정] 이 블록을 호버 블록보다 위로 이동시켰습니다. */
.card .card-title,
.card-content > div:first-child > div:first-child, /* [추가] 카테고리 */
.card-footer /* [추가] 날짜/시간 */ {
  /* color: var(--active-color, var(--light-fg)); */ /* [수정] 라이트 모드 기본값을 카테고리 색상으로 */
  color: var(--light-fg); /* [수정] 라이트 모드 기본값을 검은색/기본값으로 변경 */
  
  /* transition 설정 */
  transition: color 300ms var(--ease-out);
}


.dark .card .card-title,
.dark .card-content > div:first-child > div:first-child, /* [추가] 카테고리 */
.dark .card-footer /* [추가] 날짜/시간 */ {
  color: var(--fg);
}

.card:where(:hover, :focus-within) .card-title,
.card:where(:hover, :focus-within) .card-content > div:first-child > div:first-child, /* [추가] 카테고리 */
.card:where(:hover, :focus-within) .card-footer /* [추가] 날짜/시간 */ {
  /* color: var(--light-fg); */ /* [수정] 라이트 모드 호버 시 검은색 */
  color: var(--active-color, var(--light-fg)); /* [수정] 라이트 모드 호버 시 카테고리 색상으로 변경 */
  transition: color 300ms var(--ease-in-out);
}

.dark .card:where(:hover, :focus-within) .card-title,
.dark .card:where(:hover, :focus-within) .card-content > div:first-child > div:first-child, /* [추가] 카테고리 */
.dark .card:where(:hover, :focus-within) .card-footer /* [추가] 날짜/시간 */ {
  color: var(--active-color, var(--fg)); /* 다크 모드 호버 */
}


.card:where(:hover, :focus-within)::before {
  opacity: 0;
}

.card:where(:hover, :focus-within)::after {
  opacity: 1;
}